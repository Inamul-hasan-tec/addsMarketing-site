<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sticky Scroll Feature - Production Ready</title>
    <style>
      :root {
        --primary-color: #031432;
        --secondary-color: #4d65ff;
        --accent-green: #00d084;
        --accent-blue: #1e3a8a;
        --accent-yellow: #f59e0b;
        --bg-light: #f8f9fa;
        --bg-white: #ffffff;
        --text-dark: #1f2937;
        --text-light: #6b7280;
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.1);
        --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
        --transition-speed: 0.6s;
        --transition-easing: cubic-bezier(0.4, 0, 0.2, 1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
          "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
          sans-serif;
        background-color: var(--bg-light);
        color: var(--text-dark);
        line-height: 1.6;
      }

      /* Header */
      .header {
        background: linear-gradient(
          135deg,
          var(--primary-color) 0%,
          #1a3a52 100%
        );
        color: white;
        padding: 40px 20px;
        text-align: center;
        margin-bottom: 80px;
      }

      .header h1 {
        font-size: 48px;
        font-weight: 700;
        margin-bottom: 12px;
      }

      .header p {
        font-size: 18px;
        opacity: 0.9;
      }

      /* Main Section */
      .perks_section {
        padding: 60px 0 120px 0;
        background-color: var(--bg-white);
      }

      .perks_component {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .perks_heading-wrapper {
        margin-bottom: 80px;
        text-align: center;
      }

      .perks_heading-wrapper h2 {
        font-size: 42px;
        font-weight: 700;
        color: var(--primary-color);
        line-height: 1.2;
      }

      /* Two-Column Layout */
      .perks_content-wrapper {
        display: flex;
        gap: 80px;
        align-items: flex-start;
      }

      /* Left Column - Sticky Media Container */
      .perks_media-container {
        position: sticky;
        top: 15vh;
        width: 50%;
        height: 70vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
        border-radius: 24px;
        box-shadow: var(--shadow-xl);
        overflow: hidden;
        flex-shrink: 0;
      }

      .perks_media-wrapper {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 40px;
        opacity: 0;
        transform: scale(0.8) translateY(20px);
        transition:
          opacity var(--transition-speed) var(--transition-easing),
          transform var(--transition-speed) var(--transition-easing);
        will-change: opacity, transform;
      }

      .perks_media-wrapper.is-active {
        opacity: 1;
        transform: scale(1) translateY(0);
      }

      .perks_image {
        max-width: 95%;
        max-height: 95%;
        width: auto;
        height: auto;
        border-radius: 16px;
        box-shadow: var(--shadow-lg);
        object-fit: contain;
      }

      /* Right Column - Scrolling Text Container */
      .perks_text-container {
        width: 50%;
        padding-right: 40px;
      }

      .perks_text-wrapper {
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 40px 0;
        position: relative;
      }

      .perks_text-wrapper:not(:last-child) {
        margin-bottom: 0;
      }

      .text-size-regular {
        font-size: 16px;
        font-weight: 500;
        letter-spacing: 0.5px;
      }

      .is-sub-heading {
        font-size: 14px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1.2px;
        margin-bottom: 16px;
        transition: color 0.3s ease;
      }

      .text-color-green {
        color: var(--accent-green);
      }

      .text-color-navy-blue {
        color: var(--accent-blue);
      }

      .text-color-mustard-yellow {
        color: var(--accent-yellow);
      }

      .heading-style-h4 {
        font-size: 36px;
        font-weight: 700;
        line-height: 1.3;
        color: var(--primary-color);
        margin: 0;
        transition: color 0.3s ease;
      }

      /* Responsive Design */
      @media (max-width: 1200px) {
        .perks_content-wrapper {
          gap: 60px;
        }

        .perks_media-container {
          height: 60vh;
        }

        .heading-style-h4 {
          font-size: 28px;
        }

        .header h1 {
          font-size: 36px;
        }
      }

      @media (max-width: 768px) {
        .perks_content-wrapper {
          flex-direction: column;
          gap: 40px;
        }

        .perks_media-container {
          position: relative;
          top: 0;
          width: 100%;
          height: 400px;
          margin-bottom: 40px;
          border-radius: 16px;
        }

        .perks_text-container {
          width: 100%;
          padding-right: 0;
        }

        .perks_text-wrapper {
          height: auto;
          margin-bottom: 60px;
          padding: 20px 0;
        }

        .heading-style-h4 {
          font-size: 24px;
        }

        .header h1 {
          font-size: 28px;
        }

        .perks_heading-wrapper h2 {
          font-size: 28px;
        }
      }

      /* Utility Classes */
      .container-xl {
        max-width: 1400px;
        margin: 0 auto;
      }

      .padding-global {
        padding: 0 20px;
      }

      .padding-section-xl {
        padding: 80px 0;
      }

      /* Loading Animation */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .perks_text-wrapper {
        animation: fadeIn 0.6s ease-out forwards;
      }

      .perks_text-wrapper:nth-child(1) {
        animation-delay: 0.1s;
      }

      .perks_text-wrapper:nth-child(2) {
        animation-delay: 0.2s;
      }

      .perks_text-wrapper:nth-child(3) {
        animation-delay: 0.3s;
      }

      .perks_text-wrapper:nth-child(4) {
        animation-delay: 0.4s;
      }

      .perks_text-wrapper:nth-child(5) {
        animation-delay: 0.5s;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <h1>One Window for All Things</h1>
      <p>
        Experience the ultimate sticky scroll feature with smooth animations
      </p>
    </div>

    <!-- Main Section -->
    <section class="perks_section">
      <div class="perks_component">
        <div class="perks_heading-wrapper">
          <h2>Discover Our Features</h2>
        </div>

        <div class="perks_content-wrapper">
          <!-- Left Column: Sticky Media Container -->
          <div class="perks_media-container">
            <!-- Feature 1: Control Kickstarter -->
            <div class="perks_media-wrapper is-active" data-topic="kickstarter">
              <img
                src="https://cdn.prod.website-files.com/6798a9f2afba026ef37a64ed/68b808d1b9c3e2bed38d33eb_Frame%202087332585.webp"
                alt="Control Kickstarter"
                class="perks_image"
              />
            </div>

            <!-- Feature 2: Continuous Monitoring -->
            <div class="perks_media-wrapper" data-topic="monitoring">
              <img
                src="https://cdn.prod.website-files.com/6798a9f2afba026ef37a64ed/68b808d18e598045cf7f37b0_Frame%202087332587-1.webp"
                alt="Continuous Monitoring"
                class="perks_image"
              />
            </div>

            <!-- Feature 3: Compliance Dashboards -->
            <div class="perks_media-wrapper" data-topic="dashboard">
              <img
                src="https://cdn.prod.website-files.com/6798a9f2afba026ef37a64ed/68b808d0407e6298a46fa458_Frame%202087332587.webp"
                alt="Compliance Dashboards"
                class="perks_image"
              />
            </div>

            <!-- Feature 4: Auditor Collaboration -->
            <div class="perks_media-wrapper" data-topic="collaboration">
              <img
                src="https://cdn.prod.website-files.com/6798a9f2afba026ef37a64ed/68c004fa1185479cf5041d8a_Frame%202087332585.webp"
                alt="Auditor Collaboration"
                class="perks_image"
              />
            </div>

            <!-- Feature 5: Expert Guidance -->
            <div class="perks_media-wrapper" data-topic="guidance">
              <img
                src="https://cdn.prod.website-files.com/6798a9f2afba026ef37a64ed/68b808d1178c977f07e33c64_Frame%202087332587-2.webp"
                alt="Expert Guidance"
                class="perks_image"
              />
            </div>
          </div>

          <!-- Right Column: Scrolling Text Container -->
          <div class="perks_text-container">
            <!-- Feature 1: Control Kickstarter -->
            <div class="perks_text-wrapper" data-topic="kickstarter">
              <div class="text-size-regular is-sub-heading text-color-green">
                Control Kickstarter
              </div>
              <h4 class="heading-style-h4">
                Leverage a wide-array of pre-built templates for a headstart in
                compliance
              </h4>
              <p
                style="
                  margin-top: 20px;
                  color: var(--text-light);
                  font-size: 16px;
                  line-height: 1.8;
                "
              >
                Get started quickly with our comprehensive library of
                pre-configured templates designed by compliance experts. Save
                months of planning and jump directly into implementation.
              </p>
            </div>

            <!-- Feature 2: Continuous Monitoring -->
            <div class="perks_text-wrapper" data-topic="monitoring">
              <div
                class="text-size-regular is-sub-heading text-color-navy-blue"
              >
                Continuous Monitoring
              </div>
              <h4 class="heading-style-h4">
                Automate tests, evidence collection, and ongoing gap
                remediation.
              </h4>
              <p
                style="
                  margin-top: 20px;
                  color: var(--text-light);
                  font-size: 16px;
                  line-height: 1.8;
                "
              >
                Never miss a compliance deadline. Our intelligent automation
                continuously monitors your systems, collects evidence, and
                alerts you to any gaps before they become issues.
              </p>
            </div>

            <!-- Feature 3: Compliance Dashboards -->
            <div class="perks_text-wrapper" data-topic="dashboard">
              <div
                class="text-size-regular is-sub-heading text-color-mustard-yellow"
              >
                Compliance Dashboards
              </div>
              <h4 class="heading-style-h4">
                Gain an overarching and granular view of compliance progress at
                all times.
              </h4>
              <p
                style="
                  margin-top: 20px;
                  color: var(--text-light);
                  font-size: 16px;
                  line-height: 1.8;
                "
              >
                Real-time dashboards give you complete visibility into your
                compliance status. Track progress, identify bottlenecks, and
                make data-driven decisions with confidence.
              </p>
            </div>

            <!-- Feature 4: Auditor Collaboration -->
            <div class="perks_text-wrapper" data-topic="collaboration">
              <div class="text-size-regular is-sub-heading text-color-green">
                Auditor Collaboration
              </div>
              <h4 class="heading-style-h4">
                Create audit projects and share proof of compliance in a few
                clicks.
              </h4>
              <p
                style="
                  margin-top: 20px;
                  color: var(--text-light);
                  font-size: 16px;
                  line-height: 1.8;
                "
              >
                Streamline your audit process. Collaborate seamlessly with
                auditors, share evidence securely, and complete audits faster
                than ever before.
              </p>
            </div>

            <!-- Feature 5: Expert Guidance -->
            <div class="perks_text-wrapper" data-topic="guidance">
              <div
                class="text-size-regular is-sub-heading text-color-navy-blue"
              >
                Expert Guidance
              </div>
              <h4 class="heading-style-h4">
                Access 24/7 expert guidance from trusted ISO 27001 advisors
              </h4>
              <p
                style="
                  margin-top: 20px;
                  color: var(--text-light);
                  font-size: 16px;
                  line-height: 1.8;
                "
              >
                Our team of certified compliance experts is available around the
                clock to answer your questions, provide guidance, and ensure
                your success.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- JavaScript -->
    <script>
      /**
       * Sticky Scroll Feature Implementation
       * Uses Intersection Observer API for high performance
       */
      class StickyScrollFeature {
        constructor() {
          this.textWrappers = document.querySelectorAll(".perks_text-wrapper");
          this.mediaWrappers = document.querySelectorAll(
            ".perks_media-wrapper",
          );
          this.currentActiveTopic = "kickstarter";
          this.init();
        }

        init() {
          if (
            this.textWrappers.length === 0 ||
            this.mediaWrappers.length === 0
          ) {
            console.warn("Sticky Scroll: Required elements not found");
            return;
          }

          this.setupIntersectionObserver();
          this.setupResizeObserver();
        }

        setupIntersectionObserver() {
          /**
           * Configuration:
           * - rootMargin: '-40% 0px -40% 0px' triggers when text is in the middle 20% of viewport
           * - threshold: 0 fires as soon as any part of the element enters the margin area
           */
          const observerOptions = {
            root: null,
            rootMargin: "-40% 0px -40% 0px",
            threshold: 0,
          };

          const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const topic = entry.target.getAttribute("data-topic");
                this.updateActiveImage(topic);
              }
            });
          }, observerOptions);

          // Observe all text wrappers
          this.textWrappers.forEach((wrapper) => {
            observer.observe(wrapper);
          });
        }

        setupResizeObserver() {
          /**
           * Optional: Adjust sticky position on window resize
           * This ensures the sticky container stays properly positioned on responsive changes
           */
          const resizeObserver = new ResizeObserver(() => {
            this.adjustStickyPosition();
          });

          const mediaContainer = document.querySelector(
            ".perks_media-container",
          );
          if (mediaContainer) {
            resizeObserver.observe(mediaContainer);
          }
        }

        updateActiveImage(topic) {
          // Avoid unnecessary updates
          if (this.currentActiveTopic === topic) {
            return;
          }

          this.currentActiveTopic = topic;

          // Update all media wrappers
          this.mediaWrappers.forEach((wrapper) => {
            const wrapperTopic = wrapper.getAttribute("data-topic");

            if (wrapperTopic === topic) {
              // Activate the matching wrapper
              wrapper.classList.add("is-active");

              // Trigger reflow for animation
              void wrapper.offsetHeight;
            } else {
              // Deactivate other wrappers
              wrapper.classList.remove("is-active");
            }
          });

          // Optional: Log for debugging
          console.log(`Sticky Scroll: Activated topic "${topic}"`);
        }

        adjustStickyPosition() {
          /**
           * Optional: Dynamically adjust sticky position based on viewport
           * Useful for responsive designs with varying navbar heights
           */
          const mediaContainer = document.querySelector(
            ".perks_media-container",
          );
          if (!mediaContainer) return;

          const navHeight = document.querySelector("header")?.offsetHeight || 0;
          const topOffset = Math.max(
            15,
            (navHeight / window.innerHeight) * 100,
          );

          mediaContainer.style.top = `${topOffset}vh`;
        }
      }

      // Initialize on DOM ready
      document.addEventListener("DOMContentLoaded", () => {
        new StickyScrollFeature();
      });

      // Fallback for older browsers
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", () => {
          new StickyScrollFeature();
        });
      } else {
        new StickyScrollFeature();
      }
    </script>
  </body>
</html>
